{"ast":null,"code":"var _jsxFileName = \"/Users/development/Desktop/portfolio react/portfolio/src/components/projects/slider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useCallback } from 'react';\nimport { useGesture } from '@use-gesture/react';\nimport { useSprings, a } from '@react-spring/web';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  container: {\n    position: 'relative',\n    height: '100%',\n    width: '100%',\n    touchAction: 'none'\n  },\n  item: {\n    position: 'absolute',\n    height: '100%',\n    willChange: 'transform'\n  }\n};\n/**\n * Calculates a spring-physics driven infinite slider\n *\n * @param {Array} items - display items\n * @param {Function} children - render child\n * @param {number} width - fixed item with\n * @param {number} visible - number of items that muste be visible on screen\n */\n\nexport function Slider(_ref) {\n  _s();\n\n  let {\n    items,\n    width = 600,\n    visible = 4,\n    style,\n    children\n  } = _ref;\n  const idx = useCallback(function (x) {\n    let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : items.length;\n    return (x < 0 ? x + l : x) % l;\n  }, [items]);\n  const getPos = useCallback((i, firstVis, firstVisIdx) => idx(i - firstVis + firstVisIdx), [idx]);\n  const [springs, api] = useSprings(items.length, i => ({\n    x: (i < items.length - 1 ? i : -1) * width\n  }));\n  const prev = useRef([0, 1]);\n  const target = useRef();\n  const runSprings = useCallback((y, dy) => {\n    const firstVis = idx(Math.floor(y / width) % items.length);\n    const firstVisIdx = dy < 0 ? items.length - visible - 1 : 1;\n    api.start(i => {\n      const position = getPos(i, firstVis, firstVisIdx);\n      const prevPosition = getPos(i, prev.current[0], prev.current[1]);\n      const rank = firstVis - (y < 0 ? items.length : 0) + position - firstVisIdx;\n      const configPos = dy > 0 ? position : items.length - position;\n      return {\n        x: -y % (width * items.length) + width * rank,\n        immediate: dy < 0 ? prevPosition > position : prevPosition < position,\n        config: {\n          tension: (1 + items.length - configPos) * 100,\n          friction: 30 + configPos * 40\n        }\n      };\n    });\n    prev.current = [firstVis, firstVisIdx];\n  }, [idx, getPos, width, visible, api, items.length]);\n  const wheelOffset = useRef(0);\n  const dragOffset = useRef(0);\n  useGesture({\n    onDrag: _ref2 => {\n      let {\n        event,\n        offset: [x],\n        direction: [dx]\n      } = _ref2;\n      event.preventDefault();\n\n      if (dx) {\n        dragOffset.current = -x;\n        runSprings(wheelOffset.current + -x, -dx);\n      }\n    },\n    onWheel: _ref3 => {\n      let {\n        event,\n        offset: [, y],\n        direction: [, dy]\n      } = _ref3;\n      event.preventDefault();\n\n      if (dy) {\n        wheelOffset.current = y;\n        runSprings(dragOffset.current + y, dy);\n      }\n    }\n  }, {\n    target,\n    wheel: {\n      eventOptions: {\n        passive: false\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: target,\n    style: { ...style,\n      ...styles.container\n    },\n    children: springs.map((_ref4, i) => {\n      let {\n        x\n      } = _ref4;\n      return /*#__PURE__*/_jsxDEV(a.div, {\n        style: { ...styles.item,\n          width,\n          x\n        },\n        children: children(items[i], i)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Slider, \"I3E+LHUzUrY4Ys92kAxIrUuQRlk=\", false, function () {\n  return [useSprings, useGesture];\n});\n\n_c = Slider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"names":["React","useRef","useCallback","useGesture","useSprings","a","styles","container","position","height","width","touchAction","item","willChange","Slider","items","visible","style","children","idx","x","l","length","getPos","i","firstVis","firstVisIdx","springs","api","prev","target","runSprings","y","dy","Math","floor","start","prevPosition","current","rank","configPos","immediate","config","tension","friction","wheelOffset","dragOffset","onDrag","event","offset","direction","dx","preventDefault","onWheel","wheel","eventOptions","passive","map"],"sources":["/Users/development/Desktop/portfolio react/portfolio/src/components/projects/slider.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport { useGesture } from '@use-gesture/react'\nimport { useSprings, a } from '@react-spring/web'\n\nconst styles = {\n  container: { position: 'relative', height: '100%', width: '100%', touchAction: 'none' },\n  item: { position: 'absolute', height: '100%', willChange: 'transform' },\n}\n\n/**\n * Calculates a spring-physics driven infinite slider\n *\n * @param {Array} items - display items\n * @param {Function} children - render child\n * @param {number} width - fixed item with\n * @param {number} visible - number of items that muste be visible on screen\n */\nexport function Slider({ items, width = 600, visible = 4, style, children }) {\n  const idx = useCallback((x, l = items.length) => (x < 0 ? x + l : x) % l, [items])\n  const getPos = useCallback((i, firstVis, firstVisIdx) => idx(i - firstVis + firstVisIdx), [idx])\n  const [springs, api] = useSprings(items.length, i => ({ x: (i < items.length - 1 ? i : -1) * width }))\n  const prev = useRef([0, 1])\n  const target = useRef()\n\n  const runSprings = useCallback(\n    (y, dy) => {\n      const firstVis = idx(Math.floor(y / width) % items.length)\n      const firstVisIdx = dy < 0 ? items.length - visible - 1 : 1\n      api.start(i => {\n        const position = getPos(i, firstVis, firstVisIdx)\n        const prevPosition = getPos(i, prev.current[0], prev.current[1])\n        const rank = firstVis - (y < 0 ? items.length : 0) + position - firstVisIdx\n        const configPos = dy > 0 ? position : items.length - position\n        return {\n          x: (-y % (width * items.length)) + width * rank,\n          immediate: dy < 0 ? prevPosition > position : prevPosition < position,\n          config: { tension: (1 + items.length - configPos) * 100, friction: 30 + configPos * 40 },\n        }\n      })\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [idx, getPos, width, visible, api, items.length]\n  )\n\n  const wheelOffset = useRef(0)\n  const dragOffset = useRef(0)\n\n  useGesture(\n    {\n      onDrag: ({ event, offset: [x], direction: [dx] }) => {\n        event.preventDefault()\n        if (dx) {\n          dragOffset.current = -x\n          runSprings(wheelOffset.current + -x, -dx)\n        }\n      },\n      onWheel: ({ event, offset: [, y], direction: [, dy] }) => {\n        event.preventDefault()\n        if (dy) {\n          wheelOffset.current = y\n          runSprings(dragOffset.current + y, dy)\n        }\n      },\n    },\n    { target, wheel: { eventOptions: { passive: false } } }\n  )\n\n  return (\n    <div ref={target} style={{ ...style, ...styles.container }}>\n      {springs.map(({ x }, i) => (\n        <a.div key={i} style={{ ...styles.item, width, x }} children={children(items[i], i)} />\n      ))}\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}