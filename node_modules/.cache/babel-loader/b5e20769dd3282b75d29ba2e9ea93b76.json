{"ast":null,"code":"import React, { useState, useRef, useEffect, useCallback, useLayoutEffect, Children, useReducer } from 'react';\nimport { config, useSpring, animated } from 'react-spring';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction useResizeHandler(ref) {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      width = _useState4[0],\n      setWidth = _useState4[1];\n\n  var resizeHandler = function resizeHandler(els) {\n    setHeight(els[0].contentRect.height);\n    setWidth(els[0].contentRect.width);\n  };\n\n  var observer = useRef(new ResizeObserver(resizeHandler));\n  useEffect(function () {\n    observer.current.observe(ref.current);\n    return function () {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      observer.current.disconnect();\n    };\n  }, [ref]);\n  return [width, height];\n}\n\nvar BEFORE = \"BEFORE\";\nvar CENTER = \"CENTER\";\nvar AFTER = \"AFTER\";\n\nfunction isBeforeSelected(index, selectedIndex) {\n  return index < selectedIndex;\n}\n\nfunction isAfterSelected(index, selectedIndex) {\n  return index > selectedIndex;\n}\n\nfunction getPositionName(index, selectedIndex) {\n  if (isBeforeSelected(index, selectedIndex)) {\n    return BEFORE;\n  } else if (isAfterSelected(index, selectedIndex)) {\n    return AFTER;\n  }\n\n  return CENTER;\n}\n\nvar defaultAnimationConfig = {\n  transform: {\n    rotateY: true,\n    translateX: true,\n    translateY: true\n  },\n  zIndex: true,\n  left: true,\n  top: true,\n  filter: {\n    brightness: true\n  }\n};\n\nfunction getSpringConfig(configProp) {\n  if (configProp === undefined) {\n    return {\n      mass: 2,\n      tension: 170,\n      friction: 26,\n      clamp: false,\n      precision: 0.001\n    };\n  }\n\n  if (typeof configProp === \"string\") {\n    return config[configProp];\n  }\n\n  return configProp;\n}\n\nfunction isObject(obj) {\n  return _typeof(obj) === \"object\";\n}\n\nfunction hasKeys(obj) {\n  for (var _len = arguments.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    keys[_key - 1] = arguments[_key];\n  }\n\n  return Object.keys(obj).every(function (key) {\n    return keys.includes(key);\n  });\n}\n\nvar _rotateY, _translateX, _translateY, _zIndex, _left, _top, _brightness;\n\nvar rotateY = (_rotateY = {}, _defineProperty(_rotateY, AFTER, function () {\n  return \"rotateY(-55deg)\";\n}), _defineProperty(_rotateY, CENTER, function () {\n  return \"rotateY(0deg)\";\n}), _defineProperty(_rotateY, BEFORE, function () {\n  return \"rotateY(55deg)\";\n}), _rotateY);\nvar translateX = (_translateX = {}, _defineProperty(_translateX, AFTER, function () {\n  return \"translateX(0%)\";\n}), _defineProperty(_translateX, CENTER, function () {\n  return \"translateX(-50%)\";\n}), _defineProperty(_translateX, BEFORE, function () {\n  return \"translateX(0%)\";\n}), _translateX);\nvar translateY = (_translateY = {}, _defineProperty(_translateY, AFTER, function () {\n  return \"translateY(-50%)\";\n}), _defineProperty(_translateY, CENTER, function () {\n  return \"translateY(-50%)\";\n}), _defineProperty(_translateY, BEFORE, function () {\n  return \"translateY(-50%)\";\n}), _translateY);\nvar zIndex = (_zIndex = {}, _defineProperty(_zIndex, AFTER, function () {\n  return 1;\n}), _defineProperty(_zIndex, CENTER, function () {\n  return 0;\n}), _defineProperty(_zIndex, BEFORE, function () {\n  return 1;\n}), _zIndex);\nvar left = (_left = {}, _defineProperty(_left, AFTER, function (containerWidth, diff) {\n  return \"\".concat(containerWidth * -diff * 9 / 10, \"px\");\n}), _defineProperty(_left, CENTER, function (containerWidth) {\n  return \"\".concat(containerWidth / 2, \"px\");\n}), _defineProperty(_left, BEFORE, function (containerWidth, diff, imageWidth) {\n  return \"\".concat(imageWidth * (-diff * 2 + 1) + containerWidth / 10, \"px\");\n}), _left);\nvar top = (_top = {}, _defineProperty(_top, AFTER, function () {\n  return \"50%\";\n}), _defineProperty(_top, CENTER, function () {\n  return \"50%\";\n}), _defineProperty(_top, BEFORE, function () {\n  return \"50%\";\n}), _top);\nvar brightness = (_brightness = {}, _defineProperty(_brightness, AFTER, function () {\n  return \"brightness(0.32)\";\n}), _defineProperty(_brightness, CENTER, function () {\n  return \"brightness(1)\";\n}), _defineProperty(_brightness, BEFORE, function () {\n  return \"brightness(0.32)\";\n}), _brightness);\nvar transform = {\n  rotateY: rotateY,\n  translateX: translateX,\n  translateY: translateY\n};\nvar filter = {\n  brightness: brightness\n};\nvar defaultAnimationProperties = {\n  transform: transform,\n  zIndex: zIndex,\n  left: left,\n  top: top,\n  filter: filter\n};\n\nvar CarouselAnimation = /*#__PURE__*/function () {\n  function CarouselAnimation(customAnimationConfig) {\n    _classCallCheck(this, CarouselAnimation);\n\n    var animationConfig = CarouselAnimation.combineObjects(defaultAnimationConfig, customAnimationConfig);\n    this._properties = CarouselAnimation.convertConfigToProperties(animationConfig, defaultAnimationProperties);\n  }\n\n  _createClass(CarouselAnimation, [{\n    key: \"getValues\",\n    value: function getValues(positionName, containerWidth, diff, imageWidth) {\n      return _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, this._properties.transform && {\n        transform: this.transform[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.zIndex && {\n        zIndex: this.zIndex[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.left && {\n        left: this.left[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.top && {\n        top: this.top[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.filter && {\n        filter: this.filter[positionName](containerWidth, diff, imageWidth)\n      });\n    }\n  }, {\n    key: \"nestedPropertyWrapper\",\n    value: function nestedPropertyWrapper(property, position) {\n      return function (containerWidth, diff, imageWidth) {\n        return Object.keys(property).map(function (key) {\n          return property[key][position];\n        }).map(function (valueFunc) {\n          return valueFunc(containerWidth, diff, imageWidth);\n        }).join(\" \");\n      };\n    }\n  }, {\n    key: \"transform\",\n    get: function get() {\n      var _ref;\n\n      return _ref = {}, _defineProperty(_ref, AFTER, this.nestedPropertyWrapper(this._properties.transform, AFTER)), _defineProperty(_ref, CENTER, this.nestedPropertyWrapper(this._properties.transform, CENTER)), _defineProperty(_ref, BEFORE, this.nestedPropertyWrapper(this._properties.transform, BEFORE)), _ref;\n    }\n  }, {\n    key: \"zIndex\",\n    get: function get() {\n      return this._properties.zIndex;\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      return this._properties.left;\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      return this._properties.top;\n    }\n  }, {\n    key: \"filter\",\n    get: function get() {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, AFTER, this.nestedPropertyWrapper(this._properties.filter, AFTER)), _defineProperty(_ref2, CENTER, this.nestedPropertyWrapper(this._properties.filter, CENTER)), _defineProperty(_ref2, BEFORE, this.nestedPropertyWrapper(this._properties.filter, BEFORE)), _ref2;\n    }\n  }], [{\n    key: \"combineObjects\",\n    value: function combineObjects(defaultObj, customObj) {\n      if (!customObj) {\n        return defaultObj;\n      }\n\n      return Object.keys(defaultObj).filter(function (key) {\n        return customObj[key] !== false;\n      }).map(function (key) {\n        if (isObject(defaultObj[key])) {\n          return _defineProperty({}, key, _objectSpread2(_objectSpread2({}, defaultObj[key]), customObj[key]));\n        }\n\n        return customObj[key] !== undefined ? _defineProperty({}, key, customObj[key]) : _defineProperty({}, key, defaultObj[key]);\n      }).reduce(function (acc, obj) {\n        return _objectSpread2(_objectSpread2({}, acc), obj);\n      });\n    }\n  }, {\n    key: \"convertConfigToProperties\",\n    value: function convertConfigToProperties(properties, values) {\n      return Object.keys(properties).filter(function (key) {\n        return properties[key];\n      }).map(function (key) {\n        if (isObject(properties[key])) {\n          if (hasKeys(properties[key], AFTER, BEFORE, CENTER)) {\n            return _defineProperty({}, key, properties[key]);\n          }\n\n          var subValue = CarouselAnimation.convertConfigToProperties(properties[key], values[key]);\n          return _defineProperty({}, key, subValue);\n        }\n\n        return _defineProperty({}, key, values[key]);\n      }).reduce(function (acc, obj) {\n        return _objectSpread2(_objectSpread2({}, acc), obj);\n      });\n    }\n  }]);\n\n  return CarouselAnimation;\n}();\n\nvar CarouselItem = function CarouselItem(_ref) {\n  var children = _ref.children,\n      index = _ref.index,\n      selectedItemIndex = _ref.selectedItemIndex,\n      containerWidth = _ref.containerWidth,\n      springConfig = _ref.springConfig,\n      itemBackgroundStyle = _ref.itemBackgroundStyle,\n      carouselConfig = _ref.carouselConfig;\n  var imageRef = useRef(null);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var _useResizeHandler = useResizeHandler(imageRef),\n      _useResizeHandler2 = _slicedToArray(_useResizeHandler, 1),\n      imageWidth = _useResizeHandler2[0];\n\n  var carouselAnimation = useRef(new CarouselAnimation(carouselConfig));\n  var getSpringPosition = useCallback(function () {\n    var positionName = getPositionName(index, selectedItemIndex);\n    var indexDiff = selectedItemIndex - index;\n    return carouselAnimation.current.getValues(positionName, containerWidth, indexDiff, imageWidth);\n  }, [containerWidth, imageWidth, index, selectedItemIndex]);\n  useLayoutEffect(function () {\n    setPosition(getSpringPosition(index, selectedItemIndex, imageWidth, containerWidth));\n  }, [containerWidth, selectedItemIndex, index, imageWidth, getSpringPosition]);\n  var animationProps = useSpring(_objectSpread2(_objectSpread2({}, position), {}, {\n    config: getSpringConfig(springConfig)\n  }));\n  var Element = Children.only(children);\n  var ElementType = Element.type;\n  return /*#__PURE__*/React.createElement(animated.div, {\n    className: \"carousel__container--item\",\n    style: _objectSpread2(_objectSpread2({}, animationProps), itemBackgroundStyle),\n    ref: imageRef,\n    \"data-testid\": \"container\"\n  }, /*#__PURE__*/React.createElement(ElementType, _extends({}, Element.props, {\n    style: _objectSpread2({}, Element.props.style)\n  })));\n};\n\nvar NEXT = \"NEXT\";\nvar PREV = \"PREV\";\nvar LENGTH_CHANGE = \"LENGTH_CHANGE\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case NEXT:\n      return _objectSpread2(_objectSpread2({}, state), state.index === state.length - 1 ? {\n        index: 0\n      } : {\n        index: state.index + 1\n      });\n\n    case PREV:\n      return _objectSpread2(_objectSpread2({}, state), state.index === 0 ? {\n        index: state.length - 1\n      } : {\n        index: state.index - 1\n      });\n\n    case LENGTH_CHANGE:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        length: action.payload\n      });\n\n    default:\n      return _objectSpread2({}, state);\n  }\n}\n\nfunction useCycleIndex(length) {\n  var _useReducer = useReducer(reducer, {\n    length: length,\n    index: 0\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    dispatch({\n      type: LENGTH_CHANGE,\n      payload: length\n    });\n  }, [length]);\n\n  var next = function next() {\n    dispatch({\n      type: NEXT\n    });\n  };\n\n  var prev = function prev() {\n    dispatch({\n      type: PREV\n    });\n  };\n\n  return {\n    index: state.index,\n    next: next,\n    prev: prev\n  };\n}\n\nvar ReactCarousel = function ReactCarousel(_ref) {\n  var carouselConfig = _ref.carouselConfig,\n      children = _ref.children,\n      springConfig = _ref.springConfig,\n      containerStyle = _ref.containerStyle,\n      containerBackgroundStyle = _ref.containerBackgroundStyle,\n      itemBackgroundStyle = _ref.itemBackgroundStyle,\n      carouselHeight = _ref.carouselHeight,\n      prevButtonText = _ref.prevButtonText,\n      nextButtonText = _ref.nextButtonText,\n      showIndices = _ref.showIndices;\n  var containerRef = useRef(null);\n\n  var _useResizeHandler = useResizeHandler(containerRef),\n      _useResizeHandler2 = _slicedToArray(_useResizeHandler, 1),\n      containerWidth = _useResizeHandler2[0];\n\n  var _useCycleIndex = useCycleIndex(children.length),\n      selectedIndex = _useCycleIndex.index,\n      next = _useCycleIndex.next,\n      prev = _useCycleIndex.prev;\n\n  var handleNext = function handleNext() {\n    next();\n  };\n\n  var handlePrev = function handlePrev() {\n    prev();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel\",\n    style: _objectSpread2({}, containerStyle)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"background\",\n    style: _objectSpread2({}, containerBackgroundStyle)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__prev\",\n    onClick: handlePrev,\n    \"data-testid\": \"prev\"\n  }, prevButtonText), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__container\",\n    ref: containerRef,\n    style: {\n      height: carouselHeight\n    }\n  }, containerWidth ? children.map(function (element, index) {\n    return /*#__PURE__*/React.createElement(CarouselItem, {\n      key: index,\n      index: index,\n      selectedItemIndex: selectedIndex,\n      containerWidth: containerWidth,\n      springConfig: springConfig,\n      itemBackgroundStyle: itemBackgroundStyle,\n      carouselConfig: carouselConfig\n    }, element);\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__next\",\n    onClick: handleNext,\n    \"data-testid\": \"next\"\n  }, nextButtonText), showIndices && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__container--index\"\n  }, children.map(function (_, index) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: \"\".concat(index, \"dot\"),\n      className: \"\".concat(index === selectedIndex && \"selected\")\n    });\n  })));\n};\n\nexport default ReactCarousel;\nexport { AFTER, BEFORE, CENTER };","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useLayoutEffect","Children","useReducer","config","useSpring","animated","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","value","_extends","assign","arguments","source","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","o","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","len","arr2","useResizeHandler","ref","_useState","_useState2","height","setHeight","_useState3","_useState4","width","setWidth","resizeHandler","els","contentRect","observer","ResizeObserver","current","observe","disconnect","BEFORE","CENTER","AFTER","isBeforeSelected","index","selectedIndex","isAfterSelected","getPositionName","defaultAnimationConfig","transform","rotateY","translateX","translateY","zIndex","left","top","brightness","getSpringConfig","configProp","mass","tension","friction","clamp","precision","isObject","hasKeys","_len","_key","every","includes","_rotateY","_translateX","_translateY","_zIndex","_left","_top","_brightness","containerWidth","diff","concat","imageWidth","defaultAnimationProperties","CarouselAnimation","customAnimationConfig","animationConfig","combineObjects","_properties","convertConfigToProperties","getValues","positionName","nestedPropertyWrapper","property","position","map","valueFunc","join","get","_ref","_ref2","defaultObj","customObj","reduce","acc","properties","values","subValue","CarouselItem","children","selectedItemIndex","springConfig","itemBackgroundStyle","carouselConfig","imageRef","setPosition","_useResizeHandler","_useResizeHandler2","carouselAnimation","getSpringPosition","indexDiff","animationProps","Element","only","ElementType","type","createElement","div","className","style","NEXT","PREV","LENGTH_CHANGE","reducer","state","action","payload","useCycleIndex","_useReducer","_useReducer2","dispatch","prev","ReactCarousel","containerStyle","containerBackgroundStyle","carouselHeight","prevButtonText","nextButtonText","showIndices","containerRef","_useCycleIndex","handleNext","handlePrev","onClick","element","_"],"sources":["/Users/development/Desktop/portfolio react/portfolio/new-react-portfolio/node_modules/react-carousel-animated/dist/index.esm.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useLayoutEffect, Children, useReducer } from 'react';\nimport { config, useSpring, animated } from 'react-spring';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction useResizeHandler(ref) {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      width = _useState4[0],\n      setWidth = _useState4[1];\n\n  var resizeHandler = function resizeHandler(els) {\n    setHeight(els[0].contentRect.height);\n    setWidth(els[0].contentRect.width);\n  };\n\n  var observer = useRef(new ResizeObserver(resizeHandler));\n  useEffect(function () {\n    observer.current.observe(ref.current);\n    return function () {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      observer.current.disconnect();\n    };\n  }, [ref]);\n  return [width, height];\n}\n\nvar BEFORE = \"BEFORE\";\nvar CENTER = \"CENTER\";\nvar AFTER = \"AFTER\";\n\nfunction isBeforeSelected(index, selectedIndex) {\n  return index < selectedIndex;\n}\nfunction isAfterSelected(index, selectedIndex) {\n  return index > selectedIndex;\n}\nfunction getPositionName(index, selectedIndex) {\n  if (isBeforeSelected(index, selectedIndex)) {\n    return BEFORE;\n  } else if (isAfterSelected(index, selectedIndex)) {\n    return AFTER;\n  }\n\n  return CENTER;\n}\n\nvar defaultAnimationConfig = {\n  transform: {\n    rotateY: true,\n    translateX: true,\n    translateY: true\n  },\n  zIndex: true,\n  left: true,\n  top: true,\n  filter: {\n    brightness: true\n  }\n};\nfunction getSpringConfig(configProp) {\n  if (configProp === undefined) {\n    return {\n      mass: 2,\n      tension: 170,\n      friction: 26,\n      clamp: false,\n      precision: 0.001\n    };\n  }\n\n  if (typeof configProp === \"string\") {\n    return config[configProp];\n  }\n\n  return configProp;\n}\n\nfunction isObject(obj) {\n  return _typeof(obj) === \"object\";\n}\nfunction hasKeys(obj) {\n  for (var _len = arguments.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    keys[_key - 1] = arguments[_key];\n  }\n\n  return Object.keys(obj).every(function (key) {\n    return keys.includes(key);\n  });\n}\n\nvar _rotateY, _translateX, _translateY, _zIndex, _left, _top, _brightness;\nvar rotateY = (_rotateY = {}, _defineProperty(_rotateY, AFTER, function () {\n  return \"rotateY(-55deg)\";\n}), _defineProperty(_rotateY, CENTER, function () {\n  return \"rotateY(0deg)\";\n}), _defineProperty(_rotateY, BEFORE, function () {\n  return \"rotateY(55deg)\";\n}), _rotateY);\nvar translateX = (_translateX = {}, _defineProperty(_translateX, AFTER, function () {\n  return \"translateX(0%)\";\n}), _defineProperty(_translateX, CENTER, function () {\n  return \"translateX(-50%)\";\n}), _defineProperty(_translateX, BEFORE, function () {\n  return \"translateX(0%)\";\n}), _translateX);\nvar translateY = (_translateY = {}, _defineProperty(_translateY, AFTER, function () {\n  return \"translateY(-50%)\";\n}), _defineProperty(_translateY, CENTER, function () {\n  return \"translateY(-50%)\";\n}), _defineProperty(_translateY, BEFORE, function () {\n  return \"translateY(-50%)\";\n}), _translateY);\nvar zIndex = (_zIndex = {}, _defineProperty(_zIndex, AFTER, function () {\n  return 1;\n}), _defineProperty(_zIndex, CENTER, function () {\n  return 0;\n}), _defineProperty(_zIndex, BEFORE, function () {\n  return 1;\n}), _zIndex);\nvar left = (_left = {}, _defineProperty(_left, AFTER, function (containerWidth, diff) {\n  return \"\".concat(containerWidth * -diff * 9 / 10, \"px\");\n}), _defineProperty(_left, CENTER, function (containerWidth) {\n  return \"\".concat(containerWidth / 2, \"px\");\n}), _defineProperty(_left, BEFORE, function (containerWidth, diff, imageWidth) {\n  return \"\".concat(imageWidth * (-diff * 2 + 1) + containerWidth / 10, \"px\");\n}), _left);\nvar top = (_top = {}, _defineProperty(_top, AFTER, function () {\n  return \"50%\";\n}), _defineProperty(_top, CENTER, function () {\n  return \"50%\";\n}), _defineProperty(_top, BEFORE, function () {\n  return \"50%\";\n}), _top);\nvar brightness = (_brightness = {}, _defineProperty(_brightness, AFTER, function () {\n  return \"brightness(0.32)\";\n}), _defineProperty(_brightness, CENTER, function () {\n  return \"brightness(1)\";\n}), _defineProperty(_brightness, BEFORE, function () {\n  return \"brightness(0.32)\";\n}), _brightness);\nvar transform = {\n  rotateY: rotateY,\n  translateX: translateX,\n  translateY: translateY\n};\nvar filter = {\n  brightness: brightness\n};\nvar defaultAnimationProperties = {\n  transform: transform,\n  zIndex: zIndex,\n  left: left,\n  top: top,\n  filter: filter\n};\n\nvar CarouselAnimation = /*#__PURE__*/function () {\n  function CarouselAnimation(customAnimationConfig) {\n    _classCallCheck(this, CarouselAnimation);\n\n    var animationConfig = CarouselAnimation.combineObjects(defaultAnimationConfig, customAnimationConfig);\n    this._properties = CarouselAnimation.convertConfigToProperties(animationConfig, defaultAnimationProperties);\n  }\n\n  _createClass(CarouselAnimation, [{\n    key: \"getValues\",\n    value: function getValues(positionName, containerWidth, diff, imageWidth) {\n      return _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, this._properties.transform && {\n        transform: this.transform[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.zIndex && {\n        zIndex: this.zIndex[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.left && {\n        left: this.left[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.top && {\n        top: this.top[positionName](containerWidth, diff, imageWidth)\n      }), this._properties.filter && {\n        filter: this.filter[positionName](containerWidth, diff, imageWidth)\n      });\n    }\n  }, {\n    key: \"nestedPropertyWrapper\",\n    value: function nestedPropertyWrapper(property, position) {\n      return function (containerWidth, diff, imageWidth) {\n        return Object.keys(property).map(function (key) {\n          return property[key][position];\n        }).map(function (valueFunc) {\n          return valueFunc(containerWidth, diff, imageWidth);\n        }).join(\" \");\n      };\n    }\n  }, {\n    key: \"transform\",\n    get: function get() {\n      var _ref;\n\n      return _ref = {}, _defineProperty(_ref, AFTER, this.nestedPropertyWrapper(this._properties.transform, AFTER)), _defineProperty(_ref, CENTER, this.nestedPropertyWrapper(this._properties.transform, CENTER)), _defineProperty(_ref, BEFORE, this.nestedPropertyWrapper(this._properties.transform, BEFORE)), _ref;\n    }\n  }, {\n    key: \"zIndex\",\n    get: function get() {\n      return this._properties.zIndex;\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      return this._properties.left;\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      return this._properties.top;\n    }\n  }, {\n    key: \"filter\",\n    get: function get() {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, AFTER, this.nestedPropertyWrapper(this._properties.filter, AFTER)), _defineProperty(_ref2, CENTER, this.nestedPropertyWrapper(this._properties.filter, CENTER)), _defineProperty(_ref2, BEFORE, this.nestedPropertyWrapper(this._properties.filter, BEFORE)), _ref2;\n    }\n  }], [{\n    key: \"combineObjects\",\n    value: function combineObjects(defaultObj, customObj) {\n      if (!customObj) {\n        return defaultObj;\n      }\n\n      return Object.keys(defaultObj).filter(function (key) {\n        return customObj[key] !== false;\n      }).map(function (key) {\n        if (isObject(defaultObj[key])) {\n          return _defineProperty({}, key, _objectSpread2(_objectSpread2({}, defaultObj[key]), customObj[key]));\n        }\n\n        return customObj[key] !== undefined ? _defineProperty({}, key, customObj[key]) : _defineProperty({}, key, defaultObj[key]);\n      }).reduce(function (acc, obj) {\n        return _objectSpread2(_objectSpread2({}, acc), obj);\n      });\n    }\n  }, {\n    key: \"convertConfigToProperties\",\n    value: function convertConfigToProperties(properties, values) {\n      return Object.keys(properties).filter(function (key) {\n        return properties[key];\n      }).map(function (key) {\n        if (isObject(properties[key])) {\n          if (hasKeys(properties[key], AFTER, BEFORE, CENTER)) {\n            return _defineProperty({}, key, properties[key]);\n          }\n\n          var subValue = CarouselAnimation.convertConfigToProperties(properties[key], values[key]);\n          return _defineProperty({}, key, subValue);\n        }\n\n        return _defineProperty({}, key, values[key]);\n      }).reduce(function (acc, obj) {\n        return _objectSpread2(_objectSpread2({}, acc), obj);\n      });\n    }\n  }]);\n\n  return CarouselAnimation;\n}();\n\nvar CarouselItem = function CarouselItem(_ref) {\n  var children = _ref.children,\n      index = _ref.index,\n      selectedItemIndex = _ref.selectedItemIndex,\n      containerWidth = _ref.containerWidth,\n      springConfig = _ref.springConfig,\n      itemBackgroundStyle = _ref.itemBackgroundStyle,\n      carouselConfig = _ref.carouselConfig;\n  var imageRef = useRef(null);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var _useResizeHandler = useResizeHandler(imageRef),\n      _useResizeHandler2 = _slicedToArray(_useResizeHandler, 1),\n      imageWidth = _useResizeHandler2[0];\n\n  var carouselAnimation = useRef(new CarouselAnimation(carouselConfig));\n  var getSpringPosition = useCallback(function () {\n    var positionName = getPositionName(index, selectedItemIndex);\n    var indexDiff = selectedItemIndex - index;\n    return carouselAnimation.current.getValues(positionName, containerWidth, indexDiff, imageWidth);\n  }, [containerWidth, imageWidth, index, selectedItemIndex]);\n  useLayoutEffect(function () {\n    setPosition(getSpringPosition(index, selectedItemIndex, imageWidth, containerWidth));\n  }, [containerWidth, selectedItemIndex, index, imageWidth, getSpringPosition]);\n  var animationProps = useSpring(_objectSpread2(_objectSpread2({}, position), {}, {\n    config: getSpringConfig(springConfig)\n  }));\n  var Element = Children.only(children);\n  var ElementType = Element.type;\n  return /*#__PURE__*/React.createElement(animated.div, {\n    className: \"carousel__container--item\",\n    style: _objectSpread2(_objectSpread2({}, animationProps), itemBackgroundStyle),\n    ref: imageRef,\n    \"data-testid\": \"container\"\n  }, /*#__PURE__*/React.createElement(ElementType, _extends({}, Element.props, {\n    style: _objectSpread2({}, Element.props.style)\n  })));\n};\n\nvar NEXT = \"NEXT\";\nvar PREV = \"PREV\";\nvar LENGTH_CHANGE = \"LENGTH_CHANGE\";\nfunction reducer(state, action) {\n  switch (action.type) {\n    case NEXT:\n      return _objectSpread2(_objectSpread2({}, state), state.index === state.length - 1 ? {\n        index: 0\n      } : {\n        index: state.index + 1\n      });\n\n    case PREV:\n      return _objectSpread2(_objectSpread2({}, state), state.index === 0 ? {\n        index: state.length - 1\n      } : {\n        index: state.index - 1\n      });\n\n    case LENGTH_CHANGE:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        length: action.payload\n      });\n\n    default:\n      return _objectSpread2({}, state);\n  }\n}\n\nfunction useCycleIndex(length) {\n  var _useReducer = useReducer(reducer, {\n    length: length,\n    index: 0\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    dispatch({\n      type: LENGTH_CHANGE,\n      payload: length\n    });\n  }, [length]);\n\n  var next = function next() {\n    dispatch({\n      type: NEXT\n    });\n  };\n\n  var prev = function prev() {\n    dispatch({\n      type: PREV\n    });\n  };\n\n  return {\n    index: state.index,\n    next: next,\n    prev: prev\n  };\n}\n\nvar ReactCarousel = function ReactCarousel(_ref) {\n  var carouselConfig = _ref.carouselConfig,\n      children = _ref.children,\n      springConfig = _ref.springConfig,\n      containerStyle = _ref.containerStyle,\n      containerBackgroundStyle = _ref.containerBackgroundStyle,\n      itemBackgroundStyle = _ref.itemBackgroundStyle,\n      carouselHeight = _ref.carouselHeight,\n      prevButtonText = _ref.prevButtonText,\n      nextButtonText = _ref.nextButtonText,\n      showIndices = _ref.showIndices;\n  var containerRef = useRef(null);\n\n  var _useResizeHandler = useResizeHandler(containerRef),\n      _useResizeHandler2 = _slicedToArray(_useResizeHandler, 1),\n      containerWidth = _useResizeHandler2[0];\n\n  var _useCycleIndex = useCycleIndex(children.length),\n      selectedIndex = _useCycleIndex.index,\n      next = _useCycleIndex.next,\n      prev = _useCycleIndex.prev;\n\n  var handleNext = function handleNext() {\n    next();\n  };\n\n  var handlePrev = function handlePrev() {\n    prev();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel\",\n    style: _objectSpread2({}, containerStyle)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"background\",\n    style: _objectSpread2({}, containerBackgroundStyle)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__prev\",\n    onClick: handlePrev,\n    \"data-testid\": \"prev\"\n  }, prevButtonText), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__container\",\n    ref: containerRef,\n    style: {\n      height: carouselHeight\n    }\n  }, containerWidth ? children.map(function (element, index) {\n    return /*#__PURE__*/React.createElement(CarouselItem, {\n      key: index,\n      index: index,\n      selectedItemIndex: selectedIndex,\n      containerWidth: containerWidth,\n      springConfig: springConfig,\n      itemBackgroundStyle: itemBackgroundStyle,\n      carouselConfig: carouselConfig\n    }, element);\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__next\",\n    onClick: handleNext,\n    \"data-testid\": \"next\"\n  }, nextButtonText), showIndices && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel__container--index\"\n  }, children.map(function (_, index) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: \"\".concat(index, \"dot\"),\n      className: \"\".concat(index === selectedIndex && \"selected\")\n    });\n  })));\n};\n\nexport default ReactCarousel;\nexport { AFTER, BEFORE, CENTER };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}